//Структура на C програма
#include <stdio.h>  // библиотека за input/output

int main() {
    printf("Hello, world!\n");  // печатење на текст
    return 0;                   // завршување на програмата
}
//Променливи (Variables)
int broj = 10;
float temperatura = 36.6;
char bukva = 'A';
//Внесување и печатење
int broj;
scanf("%d", &broj);      // внеси цел број
printf("Vneseniot broj e %d\n", broj);

/*Формат	Тип на променлива
   %d	          int
   %f         	float
   %lf	       double
   %c	          char
   %s	     string (низа од знаци) */
//Условни изрази (if, else)
int broj = 5;
if (broj > 0) {
    printf("Pozitiven broj\n");
} else {
    printf("Negativen ili nula\n");
}
//\ЦИКЛУСИ
//Циклусите се користат кога сакаме да повториме блок од код повеќе пати
//ВИДОВИ НА ЦИКЛУСИ ВО C
//for циклус --Кога знаеме колку пати ќе се повторува.
for (int i = 0; i < 5; i++) {
    printf("i = %d\n", i);
}
//int i = 0; → Почетна вредност
//i < 5; → Услов (додека е вистина, се врти циклусот)
//i++ → Зголемување по секоја итерација
//while циклус --Кога не знаеме точно колку пати, но сакаме да се повторува додека услов е вистинит.
int i = 0;
while (i < 5) {
    printf("%d\n", i);
    i++;
}
//do...while циклус--Слично на while, но сигурно се извршува барем еднаш, дури и ако условот е лажен.
int i = 0;
do {
    printf("%d\n", i);
    i++;
} while (i < 5);
//КОРИСНИ КОМАНДИ ВО ЦИКЛУСИ
//break – го прекинува циклусот
for (int i = 0; i < 10; i++) {
    if (i == 5) break;
    printf("%d\n", i);
}
//Печати само 0 до 4
//continue – ја прескокнува таа итерација
for (int i = 0; i < 5; i++) {
    if (i == 2) continue;
    printf("%d\n", i);
}
//Печати 0, 1, 3, 4 (ја прескокнува 2)
//ФУНКЦИИ
//Функции се парчиња код што извршуваат одредена задача, и можат да се повикуваат кога ни требаат — за да не го повторуваме истиот код повеќе пати.
тип_на_враќање име_на_функција(параметри) {
    // тело на функцијата
    return вредност;
}
int zbir(int a, int b) {
    return a + b;
}
int rezultat = zbir(3, 5);
printf("Rezultatot e: %d\n", rezultat);
//Пример: Функција без враќање (void)
void pozdrav() {
    printf("Zdravo!\n");
}
//Повик:
pozdrav();
//Пример: Функција со параметар и без враќање
void kvadrat(int x) {
    printf("Kvadratot na %d e %d\n", x, x * x);
}
//повик:
kvadrat(4);
//Пример: Функција што враќа резултат
float prosečna_vrednost(int a, int b, int c) {
    return (a + b + c) / 3.0;
}
//повик:
float p = prosečna_vrednost(4, 6, 8);
printf("Prosečnata vrednost e: %.2f\n", p);
//РЕКУРЗИВНА ФУНКЦИЈА
//Рекурзивна функција е функција која се повикува самата себе за да го реши проблемот преку подзадачи.
//Ова е моќна техника која се користи кога проблемот може природно да се подели на помали, слични проблеми.
//Структура на рекурзивна функција:
тип име(параметри) {
    if (услов за прекин) {
        // базен случај
        return нешто;
    } else {
        // рекурзивен случај
        return име(помал проблем);
    }
}
//Пример 1: Факториел (n!)#include <stdio.h>

int faktoriel(int n) {
    if (n == 0 || n == 1)  // базен случај
        return 1;
    else                   // рекурзивен случај
        return n * faktoriel(n - 1);
}

int main() {
    int broj;
    printf("Vnesi broj: ");
    scanf("%d", &broj);
    printf("Faktoriel od %d e %d\n", broj, faktoriel(broj));
    return 0;
}
/*
Базен случај	Крај на рекурзијата. Без него ќе има бесконечна рекурзија.
Рекурзивен случај	Повик на истата функција со „помал“ проблем.*/

//НИЗИ
//Низа е колекција од елементи од ист тип, кои се сместени во континуиран простор во меморијата. 
//Со други зборови, тоа е група од променливи кои се организирани заедно и може да ги користиш преку едно заеднички име.
//декларација:
int broevi[5];
broevi[0] = 10;  // првиот елемент го поставуваме на 10
broevi[1] = 20;  // вториот елемент 20
printf("%d", broevi[0]);  // ќе испечати 10
int broevi[5] = {1, 2, 3, 4, 5};
char bukvi[4] = {'a', 'b', 'c', 'd'};
float vrednosti[3] = {1.1, 2.2, 3.3};
//Пример со низа и циклус
for (int i = 0; i < 5; i++) {
    printf("%d\n", broevi[i]);
}
//Низи на низи - МАТРИЦИ
int matrica[3][3];

int matrica[3][3] = {
    {1, 2, 3},
    {4, 5, 6},
    {7, 8, 9}
};

#include <stdio.h>

int main() {
    int matrica[3][3] = {
        {1, 2, 3},
        {4, 5, 6},
        {7, 8, 9}
    };

    for (int i = 0; i < 3; i++) {           // редови
        for (int j = 0; j < 3; j++) {       // колони
            printf("%d ", matrica[i][j]);
        }
        printf("\n");
    }

    return 0;
}
//ГЛАВНА ДИЈАГОНАЛА И СПОРЕДНА (СЕКУНДАРНА) ДИЈАГОНАЛА
#include <stdio.h>

int main() {
    int n = 3;
    int matrix[3][3] = {
        {1, 2, 3},
        {4, 5, 6},
        {7, 8, 9}
    };

    printf("Главна дијагонала: ");
    for (int i = 0; i < n; i++) {
        printf("%d ", matrix[i][i]);
    }
    printf("\n");

    printf("Споредна дијагонала: ");
    for (int i = 0; i < n; i++) {
        printf("%d ", matrix[i][n - 1 - i]);
    }
    printf("\n");

    return 0;
}


//ПОКАЖУВАЧИ
//Покажувач е променлива која чува адреса во меморијата.
//Наместо да чува вредност како број или карактер, покажувачот чува локација каде се наоѓа некоја вредност.
int *p;
int x = 10;
*p = &x;  // &x е адресата на x
printf("%d\n", *p);  // ќе испечати 10
*p = 20;  // сега x = 20
#include <stdio.h>

int main() {
    int x = 10;
    int *p = &x;  // p ја чува адресата на x

    printf("Вредност на x: %d\n", x);
    printf("Вредност преку покажувач p: %d\n", *p);

    *p = 30;  // ја менуваме вредноста на x преку покажувачот
    printf("Нова вредност на x: %d\n", x);

    printf("Адреса на x: %p\n", &x);
    printf("Вредност на покажувачот p (адреса на x): %p\n", p);

    return 0;
}
//*p — пристапува до вредноста на адресата што ја чува p.
//&x — ја враќа адресата на променливата x.
//Покажувачите се многу корисни кај низи, затоа што името на низата всушност е адресата на првиот елемент.
int arr[3] = {1, 2, 3};
int *p = arr;  // исто како int *p = &arr[0];

printf("%d\n", *p);      // 1
printf("%d\n", *(p+1));  // 2
printf("%d\n", *(p+2));  // 3

//Основни изрази со покажувачи
int arr[3] = {10, 20, 30};
int *p = arr;  // покажува на arr[0]

printf("%d\n", *p);   // 10
p++;                  // сега покажува на arr[1]
printf("%d\n", *p);   // 20
p--;                  // назад на arr[0]
printf("%d\n", *p);   // 10
//собирање
int *p = arr;
p = p + 2;     // сега покажува на трет елемент (arr[2])
printf("%d\n", *p);  // 30
//разлика
int *p1 = &arr[0];
int *p2 = &arr[2];
int diff = p2 - p1;   // резултат е 2
printf("%d\n", diff);
//иденксирање
int *p = arr;
printf("%d\n", p[1]);  // 20, исто како arr[1]

//пример

int arr[5] = {5, 10, 15, 20, 25};
int *p = arr;

// Достап до елемент на индекс 3 преку покажувач
printf("%d\n", *(p + 3));  // 20

// Поместување покажувач и пристап
p += 2;  // сега p покажува на arr[2]
printf("%d\n", *p);  // 15

// Поместување назад
p = p - 1;  // сега покажува на arr[1]
printf("%d\n", *p);  // 10

/*Израз  	                         Означува	                            Пример	                              Резултат
  *p                    	Вредност на адресата што ја чува  p	              *p                              	   вредност
  p++	               Поместување на покажувачот на следниот елемент	      p++	                             покажува на p+1
  p--	              Поместување на покажувачот на претходниот елемент	      p--	                             покажува на p-1
 p + n	                Поместување на покажувачот за n елементи	         p + 2	                             покажува на p+2
 p - n	                Поместување на покажувачот назад за n елементи	     p - 1	                             покажува на p-1
p1 - p2	                 Разлика помеѓу два покажувачи (број на елементи)	p1 - p2	                                цел број
 p[n]	                      Индексирање (како низа)	                      p[2]	                               вредност*/

//Пренесување на променливи преку покажувачи (Pass by Reference)
//Зошто користиме покажувачи за пренесување на променливи?
//Со покажувачи не се копира вредноста на променливата во функцијата, туку се пренесува адресата (локацијата во меморијата).
//Ова овозможува функцијата да ја промени оригиналната вредност на променливата.
#include <stdio.h>

void doubleValue(int *number) {
    *number = 2 * (*number);  // се менува вредноста на оригиналната променлива
    //*number значи “вредноста на променливата на која покажува number”.
}

int main() {
    int x = 5;
    printf("Пред повик: %d\n", x);  // 5
    
    doubleValue(&x);  // праќаме адреса на x
    
    printf("По повик: %d\n", x);    // 10 (променето во функцијата)
    return 0;
}
//Кога пренесуваш низи како аргумент во функција, тие автоматски се пренесуваат како покажувачи на првиот елемент.
void printArray(int *arr, int size) {
    for (int i = 0; i < size; i++) {
        printf("%d ", arr[i]);  // arr[i] е исто како *(arr + i)
    }
    printf("\n");
}
//Низи и покажувачи - поврзаност и еквивалентности
#include <stdio.h>

int main() {
    int a[5] = {10, 20, 30, 40, 50};
    int *aPtr = a;

    printf("a[2] = %d\n", a[2]);          // 30
    printf("*(a + 2) = %d\n", *(a + 2));  // 30

    printf("aPtr[2] = %d\n", aPtr[2]);    // 30
    printf("*(aPtr + 2) = %d\n", *(aPtr + 2)); // 30

    printf("2[a] = %d\n", 2[a]);           // 30

    return 0;
}


//Сортирање во C — основи
//Сортирање е процес на организирање елементи во низа по одреден #include <stdio.h>

int main() {
    int a[] = {4, 2, 7, 1, 3};
    int n = 5;
    int i, j;

    for(i = 0; i < n; i++) {
        for(j = i + 1; j < n; j++) {
            if(a[i] < a[j]) {
                int temp = a[i];
                a[i] = a[j];
                a[j] = temp;
            }
        }
    }

    // Печатење
    for(i = 0; i < n; i++) {
        printf("%d ", a[i]);
    }

    return 0;
}

